{% extends 'base.html' %}

{% block content %}

{% for task in E9XIssues%} {(task.topic)} {(task.title)} {(task.desc_of_problem)} {(task.work_performed)} {(task.fixed)} {(task.need_help)} {% endfor %}

<container>
    <div class="row">
         
        <div class="col-sm col-md col-lg">
                <div class="left">
                    <h4>Welcome to E9XIssues!</h4>
                    <p class="shop">
                        Have a question? Looking for some help? Or are you the type who likes helping and sharing your hard earned knowledge?
                    </p>
                    <p class= "shop">
                        Well, we got you covered:<br>
        	            Ask<br>
        	            Update<br>
        	            Delete<br>
                    </p>
                    <p class="shop">
                        We were tired of spending all that money on diagnosis and just small questions too. So we decided why not just open up the world to help each other? Our global community of fellow E9X aficionados is here. Reach out and be that helping hand or other point of view that just might make a difference. Help us to grow and continue to make this community as helpful and powerful as we know it can be!!
                    </p>
                </div>    
                <div class="left">
                    <h4>Figured it out?</h4>
                    <p class="shop">
                        Figured out whatâ€™s wrong? Need parts? Click <a href="{{url_for('shop')}}">here</a> for a link to some of our trusted vendors!!
                    </p>
                </div>
            </div>
            
        <div class="col-sm col-md col-lg middle email"> 
            <div class="list-group">
                {% for task in tasks %}
                <div class="card">
                    <div class="card-header" id="headingOne">
                        <h4 class="mb-0">
                              {{task.category_name}}
                        </h4>
                    </div>
                    
                    <div>
                        <div class="card-body">
                            <span>
                                <ul class="pane">
                                <li>Title: {{task.title}}</li>
                                <li>Description: {{task.desc_of_problem}}</li>
                                <li>Work Performed: {{task.work_performed}}</li>
                                <li>Fixed: {{task.fixed}}</li>
                                <li>Need Help?: {{task.need_help}}</li>
                                </ul>
                            </span>
                            <div>
                                <a href="{{url_for('get_tasks', task_id=task._id)}}" type="button" class="btn btn-outline-primary">Back to Top</a>
                                <a href="{{url_for('edit_task', task_id=task._id)}}" type="button" class="btn btn-outline-secondary">Edit</a>
                                <a href="{{url_for('delete_task', task_id=task._id)}}" type="button" class="btn btn-outline-danger">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
            
        <div class="col-sm col-md col-lg right">
            <div class="center">
                    <p>
                        <button class="diag" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                        DIAGNOSTIC
                        </button>
                    </p>
                    <div class="collapse" id="collapseExample">
                        <div class="card card-body">
                            ISSUES RELATING TO DIAGNOSTICS.<br>
                            Including: check engine lights, module failure, coding and programming
                        </div>
                    </div>
                    <p>
                        <button class="drive" type="button" data-toggle="collapse" data-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample1">
                        DRIVE
                        </button>
                    </p>
                    <div class="collapse" id="collapseExample1">
                        <div class="card card-body">
                            ISSUES RELATING TO DRIVABILITY.<br>
                            Including: vibrations, handling, as well as general driving issues
                        </div>
                    </div>
                    <p>
                        <button class="noises" type="button" data-toggle="collapse" data-target="#collapseExample2" aria-expanded="false" aria-controls="collapseExample2">
                        NOISES
                        </button>
                    </p>
                    <div class="collapse" id="collapseExample2">
                        <div class="card card-body">
                            ISSUES RELATING TO NOISES.<br>
                            Including: those nasty pings, pops, squeaks, and rattles
                        </div>
                    </div>
                    <p>
                        <button class="misc" type="button" data-toggle="collapse" data-target="#collapseExample3" aria-expanded="false" aria-controls="collapseExample3">
                        MISC
                        </button>
                    </p>
                    <div class="collapse" id="collapseExample3">
                        <div class="card card-body">
                            MISCELLANEOUS<br>
                            Various other issues or concerns you may have about your e9x
                        </div>
                    </div>
                </div>
                <div>
                    <form action="{{ url_for('insert_task') }}" method="POST" class="col sm-12 pane">
                        <div class="form-group">
                            <select class="custom-select" input id="category_name" name="category_name" type="text">
                              <option disabled selected>Category</option>
                              <option value="diagnostic">DIAGNOSTIC</option>
                              <option value="drive">DRIVE</option>
                              <option value="noises">NOISES</option>
                              <option value="misc">MISC</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlTextarea">Title</label>
                            <textarea class="form-control" id="exampleFormControlTextarea" id="title" name="title" type="text" rows="2"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlTextarea1">Description</label>
                            <textarea class="form-control" id="exampleFormControlTextarea1" name="desc_of_problem" id="desc_of_problem" rows="2"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlTextarea2">Work Performed</label>
                            <textarea class="form-control" name="work_performed" id="exampleFormControlTextarea2 work_performed" rows="2"></textarea>
                        </div>
                        <div class="custom-control custom-switch">
                            <input type="checkbox" class="custom-control-input" id="customSwitch1" id="fixed" name="fixed">
                            <label class="custom-control-label" for="customSwitch1">Fixed?</label>
                        </div>
                        <div class="custom-control custom-switch">
                            <input type="checkbox" class="custom-control-input" id="customSwitch2" id="need_help" name="need_help">
                            <label class="custom-control-label" for="customSwitch2">Need Help?</label>
                        </div>
                        <div class="row">
                            <button class="btn btn-outline-dark" type="submit" name="action">Add Topic</button>
                        </div>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>
</container>
{% endblock %}
